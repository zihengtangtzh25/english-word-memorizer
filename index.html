<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>英语单词背诵程序</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        
        /* 导航栏样式 */
        .navbar {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .nav-brand {
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            text-decoration: none;
        }
        
        .nav-links {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .nav-link {
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 5px;
            transition: all 0.3s;
            background: rgba(255, 255, 255, 0.1);
        }
        
        .nav-link:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .nav-link.active {
            background: rgba(255, 255, 255, 0.3);
            font-weight: bold;
        }
        
        header {
            background: linear-gradient(135deg, #4b6cb7 0%, #182848 100%);
            color: white;
            padding: 25px 20px;
            text-align: center;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .content {
            padding: 30px;
        }
        
        .stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 25px;
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        }
        
        .stat-item {
            text-align: center;
            flex: 1;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #4b6cb7;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #666;
        }
        
        .card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 25px;
            transition: all 0.3s ease;
        }
        
        .card-title {
            font-size: 1.2rem;
            color: #4b6cb7;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        .definition {
            font-size: 1.4rem;
            margin-bottom: 25px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border-left: 5px solid #4b6cb7;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        input[type="text"] {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1.1rem;
            transition: border-color 0.3s;
        }
        
        input[type="text"]:focus {
            border-color: #4b6cb7;
            outline: none;
        }
        
        .buttons {
            display: flex;
            justify-content: space-between;
            gap: 15px;
        }
        
        button {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .check-btn {
            background: linear-gradient(135deg, #4b6cb7, #2c3e50);
            color: white;
        }
        
        .check-btn:hover {
            background: linear-gradient(135deg, #3a5998, #1a2530);
            transform: translateY(-2px);
        }
        
        .next-btn {
            background: linear-gradient(135deg, #00b09b, #96c93d);
            color: white;
        }
        
        .next-btn:hover {
            background: linear-gradient(135deg, #00917a, #7cb305);
            transform: translateY(-2px);
        }
        
        .restart-btn {
            background: linear-gradient(135deg, #ff8c00, #ff5500);
            color: white;
        }
        
        .restart-btn:hover {
            background: linear-gradient(135deg, #e67e00, #e64a00);
            transform: translateY(-2px);
        }
        
        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
            font-size: 1.1rem;
            display: none;
        }
        
        .correct {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .result-card {
            display: none;
        }
        
        .result-title {
            text-align: center;
            font-size: 1.8rem;
            color: #4b6cb7;
            margin-bottom: 20px;
        }
        
        .result-stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
        }
        
        .result-stat {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            flex: 1;
            margin: 0 10px;
        }
        
        .correct-stat {
            background-color: #d4edda;
            color: #155724;
        }
        
        .incorrect-stat {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .result-value {
            font-size: 2.5rem;
            font-weight: bold;
        }
        
        .result-label {
            font-size: 1rem;
        }
        
        .word-list {
            margin-top: 20px;
        }
        
        .word-category {
            margin-bottom: 20px;
        }
        
        .category-title {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: #4b6cb7;
            padding-bottom: 5px;
            border-bottom: 2px solid #4b6cb7;
        }
        
        .word-item {
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 8px;
        }
        
        .correct-word {
            background-color: #e8f5e9;
        }
        
        .incorrect-word {
            background-color: #ffebee;
        }
        
        .word-text {
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .word-definition {
            color: #666;
            margin-top: 5px;
        }
        
        .word-english-def {
            color: #444;
            font-style: italic;
            margin-top: 3px;
            font-size: 0.95rem;
        }
        
        .shortcut-hint {
            text-align: center;
            margin-top: 15px;
            color: #666;
            font-size: 0.9rem;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: #7f8c8d;
            font-size: 0.9rem;
            border-top: 1px solid #eaeaea;
            margin-top: 30px;
        }
        
        /* 词汇表样式 */
        .vocabulary-card {
            display: none;
        }
        
        .vocabulary-list {
            max-height: 500px;
            overflow-y: auto;
            margin-top: 20px;
        }
        
        .vocabulary-item {
            padding: 15px;
            border-bottom: 1px solid #eee;
            transition: background-color 0.3s;
        }
        
        .vocabulary-item:hover {
            background-color: #f8f9fa;
        }
        
        .vocabulary-word {
            font-weight: bold;
            font-size: 1.2rem;
            color: #2c3e50;
        }
        
        .vocabulary-definition {
            color: #666;
            margin: 5px 0;
        }
        
        .vocabulary-chinese {
            color: #e74c3c;
            font-style: italic;
        }
        
        .search-box {
            margin-bottom: 20px;
        }
        
        .search-box input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }
        
        @media (max-width: 600px) {
            .stats, .result-stats, .buttons {
                flex-direction: column;
            }
            
            .stat-item, .result-stat {
                margin-bottom: 15px;
            }
            
            button {
                margin-bottom: 10px;
            }
            
            .definition {
                font-size: 1.2rem;
            }
            
            .navbar {
                flex-direction: column;
                gap: 10px;
            }
            
            .nav-links {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 导航栏 -->
        <nav class="navbar">
            <a href="#" class="nav-brand">英语学习工具</a>
            <div class="nav-links">
                <a href="#" class="nav-link active" data-page="quiz">单词背诵</a>
                <a href="#" class="nav-link" data-page="vocabulary">词汇表</a>
                <a href="vocabulary-tester/index.html" class="nav-link">词汇量测试</a>
                <a href="grammar-exercises/index.html" class="nav-link">语法练习</a>
            </div>
        </nav>
        
        <header>
            <h1>英语单词背诵程序</h1>
            <p class="subtitle">根据英文释义，输入正确的英文单词</p>
        </header>
        
        <div class="content">
            <!-- 单词背诵页面 -->
            <div class="card" id="quiz-card">
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-value" id="current-word">1</div>
                        <div class="stat-label">当前单词</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="total-words">3</div>
                        <div class="stat-label">总单词数</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="correct-count">0</div>
                        <div class="stat-label">正确</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="incorrect-count">0</div>
                        <div class="stat-label">错误</div>
                    </div>
                </div>
                
                <div class="card-title">英文释义</div>
                <div class="definition" id="definition"></div>
                
                <div class="input-group">
                    <input type="text" id="answer-input" placeholder="请输入对应的英文单词..." autocomplete="off">
                </div>
                
                <div class="buttons">
                    <button class="check-btn" id="check-btn">检查答案</button>
                    <button class="next-btn" id="next-btn" style="display: none;">下一个单词</button>
                </div>
                
                <div class="feedback" id="feedback"></div>
                
                <div class="shortcut-hint" id="shortcut-hint" style="display: none;">
                    <p>提示：按 <kbd>Enter</kbd> 切换到下一个单词 | 按 <kbd>9</kbd> 标记为正确 | 按 <kbd>0</kbd> 标记为错误</p>
                </div>
            </div>
            
            <!-- 结果页面 -->
            <div class="card result-card" id="result-card">
                <div class="result-title">背诵完成!</div>
                
                <div class="result-stats">
                    <div class="result-stat correct-stat">
                        <div class="result-value" id="final-correct">0</div>
                        <div class="result-label">正确单词</div>
                    </div>
                    <div class="result-stat incorrect-stat">
                        <div class="result-value" id="final-incorrect">0</div>
                        <div class="result-label">错误单词</div>
                    </div>
                </div>
                
                <div class="word-list">
                    <div class="word-category">
                        <div class="category-title">正确单词</div>
                        <div id="correct-words-list"></div>
                    </div>
                    
                    <div class="word-category">
                        <div class="category-title">需要复习的单词</div>
                        <div id="incorrect-words-list"></div>
                    </div>
                </div>
                
                <div class="buttons">
                    <button class="restart-btn" id="restart-btn">重新开始</button>
                </div>
            </div>
            
            <!-- 词汇表页面 -->
            <div class="card vocabulary-card" id="vocabulary-card">
                <div class="card-title">完整词汇表</div>
                <div class="search-box">
                    <input type="text" id="search-input" placeholder="搜索单词或释义...">
                </div>
                <div class="vocabulary-list" id="vocabulary-list"></div>
            </div>
        </div>
        
        <footer>
            <p>英语单词背诵程序 &copy; 2023</p>
        </footer>
    </div>

    <script>
        // 单词数据
        const words = [
            { word: "sum up", definition: "to summarize", chinese: "总结；概括" },
            { word: "fade away", definition: "(of a person) to become very weak or ill and die", chinese: "（人）衰弱；病重死亡" },
            { word: "climate", definition: "the regular pattern of weather conditions of a particular place", chinese: "气候" },
            { word: "billion", definition: "one thousand million", chinese: "十亿" },
            { word: "alarming", definition: "causing worry and fear", chinese: "使人惊恐的；令人惊慌的" },
            { word: "rate", definition: "a measurement of the speed", chinese: "速度；进度" },
            { word: "predict", definition: "to say that something will happen in the future", chinese: "预言；预告；预报" },
            { word: "chain", definition: "a series of connected things or people; a series of connected metal rings, used for pulling or fastening things", chinese: "一系列，一连串（人或事）；链子；锁链" },
            { word: "hunt", definition: "to chase wild animals or birds in order to catch or kill them for food, sport or to make money", chinese: "打猎；猎杀" },
            { word: "agriculture", definition: "the science or practice of farming", chinese: "农业；农学" },
            { word: "figure", definition: "a number representing a particular amount, especially one given in official information", chinese: "（代表数量，尤指官方资料中的）数字" },
            { word: "significantly", definition: "being important enough to have an effect on something or to be noticed", chinese: "有重大意义地；显著地；明显地" },
            { word: "unfamiliar", definition: "strange", chinese: "陌生的；不熟悉的" },
            { word: "youth", definition: "young people considered as a group; the time of life when a person is young, especially the time before a child becomes an adult", chinese: "（统称）青年，年轻人；青年时期（尤指成年以前）" },
            { word: "threaten", definition: "to be a danger to something", chinese: "危及；对……构成威胁" },
            { word: "extinction", definition: "a situation where a plant, an animal, a way of life, etc. no longer exists", chinese: "灭绝，绝种" },
            { word: "admit", definition: "to agree, often unwillingly, that something is true", chinese: "（常指勉强）承认" },
            { word: "somehow", definition: "for a reason that you don't know or understand; in a way that is not known or certain", chinese: "不知为什么；以某种方式" },
            { word: "measure", definition: "an official action that is done in order to achieve a particular aim", chinese: "措施；方法" },
            { word: "absolutely", definition: "used to emphasize that something is completely true", chinese: "（强调真实无误）绝对地，完全地" },
            { word: "contrast", definition: "to compare two things in order to show the differences between them", chinese: "对比；对照" },
            { word: "imply", definition: "to suggest that something is true or that you feel or think something, without saying so directly", chinese: "暗示；暗指" },
            { word: "major", definition: "very large or important", chinese: "主要的；重要的" },
            { word: "available", definition: "that you can get, buy or find easily", chinese: "可获得的；可购得的；可找到的" },
            { word: "option", definition: "choice", chinese: "选择；可选择的事物" },
            { word: "desire", definition: "a strong wish to have or do something", chinese: "愿望；欲望；渴望" },
            { word: "reduce", definition: "to make something less or smaller in size, quantity, price, etc.", chinese: "减少，缩小（尺寸、数量、价格等）" },
            { word: "design", definition: "to decide how something will look, work, etc., especially by drawing plans or making models", chinese: "设计；制图；构思" },
            { word: "balance", definition: "to give equal importance to two contrasting things or parts of something", chinese: "同等重视（相对的两个事物或方面）" },
            { word: "graduate", definition: "to get a degree from a university or college; a person who has a university degree", chinese: "大学毕业；大学毕业生" },
            { word: "plus", definition: "used to add more information", chinese: "而且；此外；况且" },
            { word: "eventually", definition: "at the end of a period of time", chinese: "最后；终于" },
            { word: "concerned", definition: "interested in something", chinese: "感兴趣的；关切的；关注的" },
            { word: "fund", definition: "to provide money for something, usually something official", chinese: "为……提供资金；拨款给" },
            { word: "mirror", definition: "a piece of special flat glass that reflects images", chinese: "镜子" },
            { word: "tear", definition: "a drop of liquid that comes out of your eye when you cry", chinese: "眼泪；泪珠；泪水" },
            { word: "net", definition: "a type of material that is made of string, thread or wire tied together, with small spaces in between", chinese: "网；网状物" },
            { word: "string", definition: "material made of several threads twisted together, used for tying things together", chinese: "细绳；线；带子" },
            { word: "mud", definition: "wet earth that is soft and sticky", chinese: "泥；淤泥" },
            { word: "cloth", definition: "material made by weaving or knitting cotton, wool, silk, etc.", chinese: "织物；布料" },
            { word: "process", definition: "a series of things that are done in order to achieve a particular result", chinese: "（为达到某一目标的）过程；进程" },
            { word: "contact", definition: "to communicate with somebody, for example by telephone or letter", chinese: "联系，联络（如用电话或信件）" },
            { word: "madam", definition: "a formal way of speaking or writing to a woman", chinese: "夫人；女士" },
            { word: "advertise", definition: "to make something known to the public in order to encourage people to buy or to use it", chinese: "做广告；登广告" },
            { word: "therefore", definition: "used to introduce the logical result of something that has just been mentioned", chinese: "因此；所以；因而" },
            { word: "advertisement", definition: "a notice, picture or film telling people about a product, job or service", chinese: "广告；启事" },
            { word: "flight", definition: "a plane making a particular journey; a journey made by air, especially in a plane", chinese: "航班飞机；班机；空中航行，航程" },
            { word: "grateful", definition: "feeling or showing thanks because somebody has done something kind for you", chinese: "感激的；表示感谢的" },
            { word: "faithfully", definition: "in a loyal way; accurately; carefully", chinese: "忠实地；忠诚地；准确地；如实地" },
                
            { word: "official", definition: "agreed to, said, done, etc. by somebody who is in a position of authority", chinese: "正式的；官方的；官方授权的" },
            { word: "fluent", definition: "able to speak, read or write a language, especially a foreign language, easily and well", chinese: "（尤指外语）流利的，流畅的；熟练的" },
            { word: "exchange", definition: "to give something to somebody and at the same time receive the same type of thing from them", chinese: "交换；交流" },
            { word: "range", definition: "a variety of things of a particular type", chinese: "一系列" },
            { word: "brick", definition: "something used for building walls, houses and other buildings", chinese: "砖；砖块" },
            { word: "gain", definition: "an advantage or improvement", chinese: "好处；利益；改进" },
            { word: "attract", definition: "to interest you and make you want it", chinese: "吸引；使喜爱" },
            { word: "shark", definition: "a large sea fish with very sharp teeth and a pointed fin on its back", chinese: "鲨鱼" },
            { word: "target", definition: "an object, a person or a place that people aim at when attacking; a result that you try to achieve", chinese: "（攻击的）目标，对象；目标；指标" },
            { word: "approach", definition: "to come near to somebody /something in distance or time", chinese: "（在距离或时间上）靠近，接近" },
            { word: "attack", definition: "an act of using violence to try to hurt or kill somebody; to use violence to try to hurt or kill somebody", chinese: "袭击；攻击" },
            { word: "sharp", definition: "having a fine edge or point, especially of something that can cut or make a hole in something", chinese: "锋利的；尖的" },
            { word: "skin", definition: "the layer of tissue that covers the body", chinese: "皮；皮肤" },
            { word: "strength", definition: "the quality of being physically strong", chinese: "体力；力气；力量" },
            { word: "wrap", definition: "to put something firmly around something /somebody; to cover something completely in paper or other material", chinese: "用……缠绕（或圈紧）；包，裹（礼物等）" },
            { word: "bleed", definition: "(bled, bled) to lose blood, especially from a wound or an injury", chinese: "流血；失血" },
            { word: "bite", definition: "(bit, bitten) to use your teeth to cut into or through something", chinese: "咬" },
            { word: "defeat", definition: "failure to win or to be successful; to win against somebody in a war, competition, sports game, etc.", chinese: "失败；击败，战胜" },
            { word: "destroy", definition: "to damage something so badly that it no longer exists, works, etc.", chinese: "摧毁" },
            { word: "intelligent", definition: "(of an animal, a being, etc.) able to understand and learn things; good at learning, understanding", chinese: "（动物、生物等）有智力的；有理解和学习能力的；有才智的；聪明的" },
            { word: "struggle", definition: "to fight somebody or try to get away from them; to try very hard to do something when it is difficult", chinese: "搏斗；扭打；挣扎脱身；奋斗；努力" },
            { word: "sink", definition: "(sank, sunk) to go down below the surface or towards the bottom of a liquid or soft substance", chinese: "下沉" },
            { word: "ahead", definition: "further forward in space or time; in front", chinese: "（时间、空间）向前面，在前面" },
            { word: "maintain", definition: "to make something continue at the same level, standard, etc.; to keep stating that something is true, even though other people do not agree", chinese: "维持；保持；坚持（意见），固执己见" },
            { word: "dramatically", definition: "by a strikingly large amount or to a strikingly large extent; greatly", chinese: "巨大地" },
            { word: "curious", definition: "having a strong desire to know about something", chinese: "求知欲强的；好奇的" },
            { word: "shortage", definition: "a situation when there is not enough of the people or things that are needed", chinese: "不足；缺少；短缺" },
            { word: "grain", definition: "the small hard seeds of food plants such as wheat, rice, etc.; a single seed of such a plant", chinese: "谷物；谷粒" },
            { word: "decade", definition: "a period of ten years", chinese: "十年，十年期（尤指一个年代）" },
            { word: "self-sufficient", definition: "able to do or produce everything that you need without the help of other people", chinese: "自给自足；自立的" },
            { word: "medal", definition: "a flat piece of metal, usually shaped like a coin, that is given to the winner of a competition", chinese: "奖章；勋章" },
            { word: "outstanding", definition: "extremely good; excellent", chinese: "优秀的；杰出的；出色的" },
            { word: "institute", definition: "an organization that has a particular purpose, especially one that is connected with education or a particular profession", chinese: "（教育、专业等）机构" },
            { word: "request", definition: "the action of asking for something formally and politely", chinese: "（正式或礼貌的）要求，请求" },
            { word: "atmosphere", definition: "the mixture of gases that surrounds the Earth", chinese: "（围绕地球的）大气，大气层" },
            { word: "lack", definition: "the state of not having something or not having enough of something", chinese: "缺乏；匮乏；短缺" },
            { word: "clue", definition: "some words or a piece of information that helps you find the answers to a game or a question", chinese: "提示词语，解答提示" },
            { word: "literature", definition: "pieces of writing that are valued as works of art", chinese: "文学；文学作品" },
            { word: "failure", definition: "a person or thing that is not successful; lack of success in doing or achieving something", chinese: "失败的人（或事物）；失败" },
            { word: "realistic", definition: "accepting in a sensible way what it is actually possible to do or achieve in a particular situation", chinese: "现实的；实际的；实事求是的" },
            { word: "professional", definition: "doing something as a paid job rather than as a hobby", chinese: "专业的；职业的" },
            { word: "false", definition: "wrong; not correct or true", chinese: "错误的；不正确的" },
            { word: "permanently", definition: "lasting for a long time or for all time in the future", chinese: "永久地；永恒地" },
            { word: "setback", definition: "a difficulty or problem that delays or prevents something or makes a situation worse", chinese: "挫折；阻碍" },
            { word: "title", definition: "the name of a book, poem, painting, piece of music, etc.", chinese: "（书、诗歌、图画、乐曲等的）名称，标题，题目" },
            { word: "spring roll", definition: "a type of Chinese fried food consisting of a tube of thin pastry, filled with vegetables or meat", chinese: "春卷" },
            { word: "silicon chip", definition: "a very small piece of silicon used to carry a complicated electronic circuit", chinese: "硅片" },
            { word: "solar-power battery", definition: "a kind of battery using the sun's energy", chinese: "太阳能电池" },
            { word: "look forward to", definition: "to be thinking with pleasure about something that is going to happen", chinese: "期待；盼望" },
            { word: "mother tongue", definition: "one's first language", chinese: "母语" },
            { word: "cell phone", definition: "(American English) a mobile phone", chinese: "移动电话；手机" },
            { word: "in addition", definition: "used when you want to mention another person or thing after something else", chinese: "除……以外（还）" },
            { word: "formal", definition: "(of a style of dress, speech, writing, behaviour, etc.) very correct and suitable for official or important occasions", chinese: "（穿着、言语、行为等）适合正式场合的；正规的；庄重的" }
        
        ];

        // 应用状态
        let currentIndex = 0;
        let correctAnswers = 0;
        let incorrectAnswers = 0;
        let correctWords = [];
        let incorrectWords = [];
        let shuffledWords = [];
        let answerChecked = false;

        // DOM元素
        const definitionElement = document.getElementById('definition');
        const answerInput = document.getElementById('answer-input');
        const checkButton = document.getElementById('check-btn');
        const nextButton = document.getElementById('next-btn');
        const feedbackElement = document.getElementById('feedback');
        const currentWordElement = document.getElementById('current-word');
        const totalWordsElement = document.getElementById('total-words');
        const correctCountElement = document.getElementById('correct-count');
        const incorrectCountElement = document.getElementById('incorrect-count');
        const quizCard = document.getElementById('quiz-card');
        const resultCard = document.getElementById('result-card');
        const vocabularyCard = document.getElementById('vocabulary-card');
        const finalCorrectElement = document.getElementById('final-correct');
        const finalIncorrectElement = document.getElementById('final-incorrect');
        const correctWordsList = document.getElementById('correct-words-list');
        const incorrectWordsList = document.getElementById('incorrect-words-list');
        const vocabularyList = document.getElementById('vocabulary-list');
        const searchInput = document.getElementById('search-input');
        const restartButton = document.getElementById('restart-btn');
        const shortcutHint = document.getElementById('shortcut-hint');
        const navLinks = document.querySelectorAll('.nav-link');

        // 初始化应用
        function initApp() {
            // 打乱单词顺序
            shuffledWords = [...words].sort(() => Math.random() - 0.5);
            
            // 更新UI
            totalWordsElement.textContent = shuffledWords.length;
            updateStats();
            
            // 显示第一个单词
            showWord();
            
            // 初始化词汇表
            renderVocabularyList();
            
            // 添加事件监听器
            checkButton.addEventListener('click', checkAnswer);
            nextButton.addEventListener('click', nextWord);
            restartButton.addEventListener('click', restartQuiz);
            searchInput.addEventListener('input', renderVocabularyList);
            
            // 添加导航事件监听器
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    switchPage(link.dataset.page);
                });
            });
            
            // 添加键盘事件监听器
            document.addEventListener('keydown', handleKeyPress);
        }

        // 页面切换函数
        function switchPage(page) {
            // 隐藏所有页面
            quizCard.style.display = 'none';
            resultCard.style.display = 'none';
            vocabularyCard.style.display = 'none';
            
            // 显示目标页面
            if (page === 'quiz') {
                quizCard.style.display = 'block';
            } else if (page === 'vocabulary') {
                vocabularyCard.style.display = 'block';
            }
            
            // 更新导航激活状态
            navLinks.forEach(link => {
                if (link.dataset.page === page) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
        }

        // 渲染词汇表
        function renderVocabularyList() {
            const searchTerm = searchInput.value.toLowerCase();
            const filteredWords = words.filter(word => 
                word.word.toLowerCase().includes(searchTerm) ||
                word.definition.toLowerCase().includes(searchTerm) ||
                word.chinese.toLowerCase().includes(searchTerm)
            );
            
            vocabularyList.innerHTML = '';
            
            filteredWords.forEach(word => {
                const wordElement = document.createElement('div');
                wordElement.className = 'vocabulary-item';
                wordElement.innerHTML = `
                    <div class="vocabulary-word">${word.word}</div>
                    <div class="vocabulary-definition">${word.definition}</div>
                    <div class="vocabulary-chinese">${word.chinese}</div>
                `;
                vocabularyList.appendChild(wordElement);
            });
        }

        function handleKeyPress(e) {
            // 如果答案已检查，启用快捷键
            if (answerChecked) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    nextWord();
                } else if (e.key === '9') {
                    e.preventDefault();
                    markAsCorrect();
                } else if (e.key === '0') {
                    e.preventDefault();
                    markAsIncorrect();
                }
            } else {
                // 在输入答案时按Enter检查答案
                if (e.key === 'Enter' && document.activeElement === answerInput) {
                    e.preventDefault();
                    checkAnswer();
                }
            }
        }

        function showWord() {
            answerChecked = false;
            const currentWord = shuffledWords[currentIndex];
            definitionElement.textContent = currentWord.definition;
            answerInput.value = '';
            answerInput.focus();
            
            // 重置UI状态
            feedbackElement.style.display = 'none';
            nextButton.style.display = 'none';
            checkButton.style.display = 'block';
            shortcutHint.style.display = 'none';
            answerInput.disabled = false;
            
            currentWordElement.textContent = currentIndex + 1;
        }

        // 检查答案
        function checkAnswer() {
            const userAnswer = answerInput.value.trim();
            const currentWord = shuffledWords[currentIndex].word;
            
            const isCorrect = userAnswer === currentWord;
            
            if (isCorrect) {
                feedbackElement.textContent = `正确！单词是：${shuffledWords[currentIndex].word}，中文释义：${shuffledWords[currentIndex].chinese}`;
                feedbackElement.className = 'feedback correct';
                correctAnswers++;
                correctWords.push(shuffledWords[currentIndex]);
            } else {
                feedbackElement.textContent = `不正确。正确答案是：${shuffledWords[currentIndex].word}，中文释义：${shuffledWords[currentIndex].chinese}`;
                feedbackElement.className = 'feedback incorrect';
                incorrectAnswers++;
                incorrectWords.push(shuffledWords[currentIndex]);
            }
            
            feedbackElement.style.display = 'block';
            checkButton.style.display = 'none';
            nextButton.style.display = 'block';
            shortcutHint.style.display = 'block';
            answerInput.disabled = true;
            answerChecked = true;
            
            updateStats();
        }

        function markAsCorrect() {
            const currentWord = shuffledWords[currentIndex];
            const incorrectIndex = incorrectWords.findIndex(w => w.word === currentWord.word);
            if (incorrectIndex !== -1) {
                incorrectWords.splice(incorrectIndex, 1);
                incorrectAnswers--;
            }
            
            const correctIndex = correctWords.findIndex(w => w.word === currentWord.word);
            if (correctIndex === -1) {
                correctWords.push(currentWord);
                correctAnswers++;
            }
            
            feedbackElement.textContent = `已标记为正确！单词是：${currentWord.word}，中文释义：${currentWord.chinese}`;
            feedbackElement.className = 'feedback correct';
            
            feedbackElement.style.display = 'block';
            checkButton.style.display = 'none';
            nextButton.style.display = 'block';
            shortcutHint.style.display = 'block';
            answerInput.disabled = true;
            
            updateStats();
        }

        function markAsIncorrect() {
            const currentWord = shuffledWords[currentIndex];
            const correctIndex = correctWords.findIndex(w => w.word === currentWord.word);
            if (correctIndex !== -1) {
                correctWords.splice(correctIndex, 1);
                correctAnswers--;
            }
            
            const incorrectIndex = incorrectWords.findIndex(w => w.word === currentWord.word);
            if (incorrectIndex === -1) {
                incorrectWords.push(currentWord);
                incorrectAnswers++;
            }
            
            feedbackElement.textContent = `已标记为错误！单词是：${currentWord.word}，中文释义：${currentWord.chinese}`;
            feedbackElement.className = 'feedback incorrect';
            
            feedbackElement.style.display = 'block';
            checkButton.style.display = 'none';
            nextButton.style.display = 'block';
            shortcutHint.style.display = 'block';
            answerInput.disabled = true;
            
            updateStats();
        }

        function nextWord() {
            answerChecked = false;
            currentIndex++;
            
            if (currentIndex < shuffledWords.length) {
                showWord();
            } else {
                showResults();
            }
        }

        function showResults() {
            quizCard.style.display = 'none';
            resultCard.style.display = 'block';
            document.querySelector('.result-title').textContent = '错误单词复习完成!';
            
            finalCorrectElement.textContent = correctAnswers;
            finalIncorrectElement.textContent = incorrectAnswers;
            
            correctWordsList.innerHTML = '';
            correctWords.forEach(word => {
                const wordElement = document.createElement('div');
                wordElement.className = 'word-item correct-word';
                wordElement.innerHTML = `
                    <div class="word-text">${word.word}</div>
                    <div class="word-definition">${word.chinese}</div>
                    <div class="word-english-def">${word.definition}</div>
                `;
                correctWordsList.appendChild(wordElement);
            });
            
            incorrectWordsList.innerHTML = '';
            incorrectWords.forEach(word => {
                const wordElement = document.createElement('div');
                wordElement.className = 'word-item incorrect-word';
                wordElement.innerHTML = `
                    <div class="word-text">${word.word}</div>
                    <div class="word-definition">${word.chinese}</div>
                    <div class="word-english-def">${word.definition}</div>
                `;
                incorrectWordsList.appendChild(wordElement);
            });
        }

        function restartQuiz() {
            if (incorrectWords.length === 0) {
                alert('恭喜！没有需要复习的单词。');
                return;
            }
            
            shuffledWords = [...incorrectWords].sort(() => Math.random() - 0.5);
            currentIndex = 0;
            incorrectAnswers = 0;
            incorrectWords = [];
            answerChecked = false;
            
            totalWordsElement.textContent = shuffledWords.length;
            updateStats();
            
            quizCard.style.display = 'block';
            resultCard.style.display = 'none';
            
            showWord();
        }

        function updateStats() {
            correctCountElement.textContent = correctAnswers;
            incorrectCountElement.textContent = incorrectAnswers;
        }

        // 初始化应用
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
